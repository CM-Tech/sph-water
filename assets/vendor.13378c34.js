function e(e,t){var n=e.__state.conversionName.toString(),r=Math.round(e.r),o=Math.round(e.g),i=Math.round(e.b),a=e.a,s=Math.round(e.h),l=e.s.toFixed(1),c=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var u=e.hex.toString(16);u.length<6;)u="0"+u;return"#"+u}return"CSS_RGB"===n?"rgb("+r+","+o+","+i+")":"CSS_RGBA"===n?"rgba("+r+","+o+","+i+","+a+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+o+","+i+"]":"RGBA_ARRAY"===n?"["+r+","+o+","+i+","+a+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+o+",b:"+i+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+o+",b:"+i+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+l+",v:"+c+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+l+",v:"+c+",a:"+a+"}":"unknown format"}var t=Array.prototype.forEach,n=Array.prototype.slice,r={BREAK:{},extend:function(e){return this.each(n.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))}),this),e},defaults:function(e){return this.each(n.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))}),this),e},compose:function(){var e=n.call(arguments);return function(){for(var t=n.call(arguments),r=e.length-1;r>=0;r--)t=[e[r].apply(this,t)];return t[0]}},each:function(e,n,r){if(e)if(t&&e.forEach&&e.forEach===t)e.forEach(n,r);else if(e.length===e.length+0){var o,i=void 0;for(i=0,o=e.length;i<o;i++)if(i in e&&n.call(r,e[i],i)===this.BREAK)return}else for(var a in e)if(n.call(r,e[a],a)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r=void 0;return function(){var o=this,i=arguments;function a(){r=null,n||e.apply(o,i)}var s=n||!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}},toArray:function(e){return e.toArray?e.toArray():n.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return isNaN(e)})),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return e instanceof Function}},o=[{litmus:r.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:e},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:e},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:e},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:e}}},{litmus:r.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:r.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:r.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(r.isNumber(e.r)&&r.isNumber(e.g)&&r.isNumber(e.b)&&r.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(r.isNumber(e.r)&&r.isNumber(e.g)&&r.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(r.isNumber(e.h)&&r.isNumber(e.s)&&r.isNumber(e.v)&&r.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(r.isNumber(e.h)&&r.isNumber(e.s)&&r.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],i=void 0,a=void 0,s=function(){a=!1;var e=arguments.length>1?r.toArray(arguments):arguments[0];return r.each(o,(function(t){if(t.litmus(e))return r.each(t.conversions,(function(t,n){if(i=t.read(e),!1===a&&!1!==i)return a=i,i.conversionName=n,i.conversion=t,r.BREAK})),r.BREAK})),a},l=void 0,c={hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,o=e/60-Math.floor(e/60),i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=[[n,s,i],[a,n,i],[i,n,s],[i,a,n],[s,i,n],[n,i,a]][r];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var r=Math.min(e,t,n),o=Math.max(e,t,n),i=o-r,a=void 0;return 0===o?{h:NaN,s:0,v:0}:(a=e===o?(t-n)/i:t===o?2+(n-e)/i:4+(e-t)/i,(a/=6)<0&&(a+=1),{h:360*a,s:i/o,v:o/255})},rgb_to_hex:function(e,t,n){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(l=8*t)|e&~(255<<l)}},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},p=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},_=function(){function t(){if(d(this,t),this.__state=s.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return f(t,[{key:"toString",value:function(){return e(this)}},{key:"toHexString",value:function(){return e(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function g(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space||_.recalculateRGB(this,t,n),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(_.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function m(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space||_.recalculateHSV(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(_.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}_.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=c.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");r.extend(e.__state,c.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},_.recalculateHSV=function(e){var t=c.rgb_to_hsv(e.r,e.g,e.b);r.extend(e.__state,{s:t.s,v:t.v}),r.isNaN(t.h)?r.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},_.COMPONENTS=["r","g","b","h","s","v","hex","a"],g(_.prototype,"r",2),g(_.prototype,"g",1),g(_.prototype,"b",0),m(_.prototype,"h"),m(_.prototype,"s"),m(_.prototype,"v"),Object.defineProperty(_.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(_.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=c.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var v=function(){function e(t,n){d(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return f(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),y={};r.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(e,t){r.each(e,(function(e){y[e]=t}))}));var w=/(\d+(\.\d+)?)px/;function k(e){if("0"===e||r.isUndefined(e))return 0;var t=e.match(w);return r.isNull(t)?0:parseFloat(t[1])}var x={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var o=n,i=t;r.isUndefined(i)&&(i=!0),r.isUndefined(o)&&(o=!0),e.style.position="absolute",i&&(e.style.left=0,e.style.right=0),o&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,o){var i=n||{},a=y[t];if(!a)throw new Error("Event type "+t+" not supported.");var s=document.createEvent(a);switch(a){case"MouseEvents":var l=i.x||i.clientX||0,c=i.y||i.clientY||0;s.initMouseEvent(t,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,l,c,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var u=s.initKeyboardEvent||s.initKeyEvent;r.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(t,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:s.initEvent(t,i.bubbles||!1,i.cancelable||!0)}r.defaults(s,o),e.dispatchEvent(s)},bind:function(e,t,n,r){var o=r||!1;return e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n),x},unbind:function(e,t,n,r){var o=r||!1;return e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent("on"+t,n),x},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return x},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),r=n.indexOf(t);-1!==r&&(n.splice(r,1),e.className=n.join(" "))}else e.className=void 0;return x},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return k(t["border-left-width"])+k(t["border-right-width"])+k(t["padding-left"])+k(t["padding-right"])+k(t.width)},getHeight:function(e){var t=getComputedStyle(e);return k(t["border-top-width"])+k(t["border-bottom-width"])+k(t["padding-top"])+k(t["padding-bottom"])+k(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},E=function(e){function t(e,n){d(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),x.bind(r.__checkbox,"change",(function(){o.setValue(!o.__prev)}),!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return p(t,v),f(t,[{key:"setValue",value:function(e){var n=h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),A=function(e){function t(e,n,o){d(this,t);var i=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=o,s=i;if(i.__select=document.createElement("select"),r.isArray(a)){var l={};r.each(a,(function(e){l[e]=e})),a=l}return r.each(a,(function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),s.__select.appendChild(n)})),i.updateDisplay(),x.bind(i.__select,"change",(function(){var e=this.options[this.selectedIndex].value;s.setValue(e)})),i.domElement.appendChild(i.__select),i}return p(t,v),f(t,[{key:"setValue",value:function(e){var n=h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return x.isActive(this.__select)?this:(this.__select.value=this.getValue(),h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(),C=function(e){function t(e,n){d(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=r;function i(){o.setValue(o.__input.value)}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),x.bind(r.__input,"keyup",i),x.bind(r.__input,"change",i),x.bind(r.__input,"blur",(function(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())})),x.bind(r.__input,"keydown",(function(e){13===e.keyCode&&this.blur()})),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return p(t,v),f(t,[{key:"updateDisplay",value:function(){return x.isActive(this.__input)||(this.__input.value=this.getValue()),h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function S(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var O=function(e){function t(e,n,o){d(this,t);var i=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=o||{};return i.__min=a.min,i.__max=a.max,i.__step=a.step,r.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=S(i.__impliedStep),i}return p(t,v),f(t,[{key:"setValue",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=S(e),this}}]),t}();var N=function(e){function t(e,n,o){d(this,t);var i=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));i.__truncationSuspended=!1;var a=i,s=void 0;function l(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function c(e){var t=s-e.clientY;a.setValue(a.getValue()+t*a.__impliedStep),s=e.clientY}function u(){x.unbind(window,"mousemove",c),x.unbind(window,"mouseup",u),l()}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),x.bind(i.__input,"change",(function(){var e=parseFloat(a.__input.value);r.isNaN(e)||a.setValue(e)})),x.bind(i.__input,"blur",(function(){l()})),x.bind(i.__input,"mousedown",(function(e){x.bind(window,"mousemove",c),x.bind(window,"mouseup",u),s=e.clientY})),x.bind(i.__input,"keydown",(function(e){13===e.keyCode&&(a.__truncationSuspended=!0,this.blur(),a.__truncationSuspended=!1,l())})),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return p(t,O),f(t,[{key:"updateDisplay",value:function(){var e,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(e*r)/r),h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function M(e,t,n,r,o){return r+(e-t)/(n-t)*(o-r)}var T=function(e){function t(e,n,r,o,i){d(this,t);var a=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:r,max:o,step:i})),s=a;function l(e){e.preventDefault();var t=s.__background.getBoundingClientRect();return s.setValue(M(e.clientX,t.left,t.right,s.__min,s.__max)),!1}function c(){x.unbind(window,"mousemove",l),x.unbind(window,"mouseup",c),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function u(e){var t=e.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(M(t,n.left,n.right,s.__min,s.__max))}function f(){x.unbind(window,"touchmove",u),x.unbind(window,"touchend",f),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),x.bind(a.__background,"mousedown",(function(e){document.activeElement.blur(),x.bind(window,"mousemove",l),x.bind(window,"mouseup",c),l(e)})),x.bind(a.__background,"touchstart",(function(e){if(1!==e.touches.length)return;x.bind(window,"touchmove",u),x.bind(window,"touchend",f),u(e)})),x.addClass(a.__background,"slider"),x.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return p(t,O),f(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),L=function(e){function t(e,n,r){d(this,t);var o=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o;return o.__button=document.createElement("div"),o.__button.innerHTML=void 0===r?"Fire":r,x.bind(o.__button,"click",(function(e){return e.preventDefault(),i.fire(),!1})),x.addClass(o.__button,"button"),o.domElement.appendChild(o.__button),o}return p(t,v),f(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(),R=function(e){function t(e,n){d(this,t);var o=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.__color=new _(o.getValue()),o.__temp=new _(0);var i=o;o.domElement=document.createElement("div"),x.makeSelectable(o.domElement,!1),o.__selector=document.createElement("div"),o.__selector.className="selector",o.__saturation_field=document.createElement("div"),o.__saturation_field.className="saturation-field",o.__field_knob=document.createElement("div"),o.__field_knob.className="field-knob",o.__field_knob_border="2px solid ",o.__hue_knob=document.createElement("div"),o.__hue_knob.className="hue-knob",o.__hue_field=document.createElement("div"),o.__hue_field.className="hue-field",o.__input=document.createElement("input"),o.__input.type="text",o.__input_textShadow="0 1px 1px ",x.bind(o.__input,"keydown",(function(e){13===e.keyCode&&p.call(this)})),x.bind(o.__input,"blur",p),x.bind(o.__selector,"mousedown",(function(){x.addClass(this,"drag").bind(window,"mouseup",(function(){x.removeClass(i.__selector,"drag")}))})),x.bind(o.__selector,"touchstart",(function(){x.addClass(this,"drag").bind(window,"touchend",(function(){x.removeClass(i.__selector,"drag")}))}));var a,l=document.createElement("div");function c(e){m(e),x.bind(window,"mousemove",m),x.bind(window,"touchmove",m),x.bind(window,"mouseup",f),x.bind(window,"touchend",f)}function u(e){v(e),x.bind(window,"mousemove",v),x.bind(window,"touchmove",v),x.bind(window,"mouseup",h),x.bind(window,"touchend",h)}function f(){x.unbind(window,"mousemove",m),x.unbind(window,"touchmove",m),x.unbind(window,"mouseup",f),x.unbind(window,"touchend",f),g()}function h(){x.unbind(window,"mousemove",v),x.unbind(window,"touchmove",v),x.unbind(window,"mouseup",h),x.unbind(window,"touchend",h),g()}function p(){var e=s(this.value);!1!==e?(i.__color.__state=e,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function g(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function m(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=i.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,r=n.clientX,o=n.clientY,a=(r-t.left)/(t.right-t.left),s=1-(o-t.top)/(t.bottom-t.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),i.__color.v=s,i.__color.s=a,i.setValue(i.__color.toOriginal()),!1}function v(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=i.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return r.extend(o.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),r.extend(o.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:o.__field_knob_border+(o.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),r.extend(o.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),r.extend(o.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),r.extend(l.style,{width:"100%",height:"100%",background:"none"}),F(l,"top","rgba(0,0,0,0)","#000"),r.extend(o.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(a=o.__hue_field).style.background="",a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.extend(o.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:o.__input_textShadow+"rgba(0,0,0,0.7)"}),x.bind(o.__saturation_field,"mousedown",c),x.bind(o.__saturation_field,"touchstart",c),x.bind(o.__field_knob,"mousedown",c),x.bind(o.__field_knob,"touchstart",c),x.bind(o.__hue_field,"mousedown",u),x.bind(o.__hue_field,"touchstart",u),o.__saturation_field.appendChild(l),o.__selector.appendChild(o.__field_knob),o.__selector.appendChild(o.__saturation_field),o.__selector.appendChild(o.__hue_field),o.__hue_field.appendChild(o.__hue_knob),o.domElement.appendChild(o.__input),o.domElement.appendChild(o.__selector),o.updateDisplay(),o}return p(t,v),f(t,[{key:"updateDisplay",value:function(){var e=s(this.getValue());if(!1!==e){var t=!1;r.each(_.COMPONENTS,(function(n){if(!r.isUndefined(e[n])&&!r.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}}),this),t&&r.extend(this.__color.__state,e)}r.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,o=255-n;r.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,F(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),r.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}}]),t}(),B=["-moz-","-o-","-webkit-","-ms-",""];function F(e,t,n,o){e.style.background="",r.each(B,(function(r){e.style.cssText+="background: "+r+"linear-gradient("+t+", "+n+" 0%, "+o+" 100%); "}))}var P=function(e,t){var n=t||document,r=document.createElement("style");r.type="text/css",r.innerHTML=e;var o=n.getElementsByTagName("head")[0];try{o.appendChild(r)}catch(i){}},D='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',H=function(e,t){var n=e[t];return r.isArray(arguments[2])||r.isObject(arguments[2])?new A(e,t,arguments[2]):r.isNumber(n)?r.isNumber(arguments[2])&&r.isNumber(arguments[3])?r.isNumber(arguments[4])?new T(e,t,arguments[2],arguments[3],arguments[4]):new T(e,t,arguments[2],arguments[3]):r.isNumber(arguments[4])?new N(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new N(e,t,{min:arguments[2],max:arguments[3]}):r.isString(n)?new C(e,t):r.isFunction(n)?new L(e,t,""):r.isBoolean(n)?new E(e,t):null};var j=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},I=function(){function e(){d(this,e),this.backgroundElement=document.createElement("div"),r.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),x.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),r.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;x.bind(this.backgroundElement,"click",(function(){t.hide()}))}return f(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),r.defer((function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",x.unbind(e.domElement,"webkitTransitionEnd",t),x.unbind(e.domElement,"transitionend",t),x.unbind(e.domElement,"oTransitionEnd",t)};x.bind(this.domElement,"webkitTransitionEnd",t),x.bind(this.domElement,"transitionend",t),x.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-x.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-x.getHeight(this.domElement)/2+"px"}}]),e}();P(function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var V=function(){try{return!!window.localStorage}catch(e){return!1}}(),z=void 0,G=!0,U=void 0,X=!1,Y=[],K=function e(t){var n=this,o=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),x.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=r.defaults(o,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),o=r.defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),r.isUndefined(o.load)?o.load={preset:"Default"}:o.preset&&(o.load.preset=o.preset),r.isUndefined(o.parent)&&o.hideable&&Y.push(this),o.resizable=r.isUndefined(o.parent)&&o.resizable,o.autoPlace&&r.isUndefined(o.scrollable)&&(o.scrollable=!0);var i,a=V&&"true"===localStorage.getItem(Z(this,"isLocal")),s=void 0,l=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},closeOnTop:{get:function(){return o.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:o.load.preset},set:function(e){n.parent?n.getRoot().preset=e:o.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return o.width},set:function(e){o.width=e,re(n,e)}},name:{get:function(){return o.name},set:function(e){o.name=e,l&&(l.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(t){o.closed=t,o.closed?x.addClass(n.__ul,e.CLASS_CLOSED):x.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return a},set:function(e){V&&(a=e,e?x.bind(window,"unload",s):x.unbind(window,"unload",s),localStorage.setItem(Z(n,"isLocal"),e))}}}),r.isUndefined(o.parent)){if(this.closed=o.closed||!1,x.addClass(this.domElement,e.CLASS_MAIN),x.makeSelectable(this.domElement,!1),V&&a){n.useLocalStorage=!0;var c=localStorage.getItem(Z(this,"gui"));c&&(o.load=JSON.parse(c))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,x.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),o.closeOnTop?(x.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(x.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),x.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===o.closed&&(o.closed=!0);var u=document.createTextNode(o.name);x.addClass(u,"controller-name"),l=W(n,u);x.addClass(this.__ul,e.CLASS_CLOSED),x.addClass(l,"title"),x.bind(l,"click",(function(e){return e.preventDefault(),n.closed=!n.closed,!1})),o.closed||(this.closed=!1)}o.autoPlace&&(r.isUndefined(o.parent)&&(G&&(U=document.createElement("div"),x.addClass(U,"dg"),x.addClass(U,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(U),G=!1),U.appendChild(this.domElement),x.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||re(n,o.width)),this.__resizeHandler=function(){n.onResizeDebounced()},x.bind(window,"resize",this.__resizeHandler),x.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),x.bind(this.__ul,"transitionend",this.__resizeHandler),x.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),o.resizable&&function(e){var t=void 0;function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function o(){x.removeClass(e.__closeButton,K.CLASS_DRAG),x.unbind(window,"mousemove",n),x.unbind(window,"mouseup",o)}function i(r){return r.preventDefault(),t=r.clientX,x.addClass(e.__closeButton,K.CLASS_DRAG),x.bind(window,"mousemove",n),x.bind(window,"mouseup",o),!1}e.__resize_handle=document.createElement("div"),r.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),x.bind(e.__resize_handle,"mousedown",i),x.bind(e.__closeButton,"mousedown",i),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}(this),s=function(){V&&"true"===localStorage.getItem(Z(n,"isLocal"))&&localStorage.setItem(Z(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=s,o.parent||((i=n.getRoot()).width+=1,r.defer((function(){i.width-=1})))};function W(e,t,n){var r=document.createElement("li");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,n):e.__ul.appendChild(r),e.onResize(),r}function q(e){x.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&x.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function J(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function Q(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(-1!==r){var o=n.__rememberedObjectIndecesToControllers[r];if(void 0===o&&(o={},n.__rememberedObjectIndecesToControllers[r]=o),o[t.property]=t,n.load&&n.load.remembered){var i=n.load.remembered,a=void 0;if(i[e.preset])a=i[e.preset];else{if(!i.Default)return;a=i.Default}if(a[r]&&void 0!==a[r][t.property]){var s=a[r][t.property];t.initialValue=s,t.setValue(s)}}}}function $(e,t,n,o){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var i=void 0;if(o.color)i=new R(t,n);else{var a=[t,n].concat(o.factoryArgs);i=H.apply(e,a)}o.before instanceof v&&(o.before=o.before.__li),Q(e,i),x.addClass(i.domElement,"c");var s=document.createElement("span");x.addClass(s,"property-name"),s.innerHTML=i.property;var l=document.createElement("div");l.appendChild(s),l.appendChild(i.domElement);var c=W(e,l,o.before);return x.addClass(c,K.CLASS_CONTROLLER_ROW),i instanceof R?x.addClass(c,"color"):x.addClass(c,u(i.getValue())),function(e,t,n){if(n.__li=t,n.__gui=e,r.extend(n,{options:function(t){if(arguments.length>1){var o=n.__li.nextElementSibling;return n.remove(),$(e,n.object,n.property,{before:o,factoryArgs:[r.toArray(arguments)]})}if(r.isArray(t)||r.isObject(t)){var i=n.__li.nextElementSibling;return n.remove(),$(e,n.object,n.property,{before:i,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof T){var o=new N(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});r.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(e){var t=n[e],r=o[e];n[e]=o[e]=function(){var e=Array.prototype.slice.call(arguments);return r.apply(o,e),t.apply(n,e)}})),x.addClass(t,"has-slider"),n.domElement.insertBefore(o.domElement,n.domElement.firstElementChild)}else if(n instanceof N){var i=function(t){if(r.isNumber(n.__min)&&r.isNumber(n.__max)){var o=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var a=$(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return a.name(o),i&&a.listen(),a}return t};n.min=r.compose(i,n.min),n.max=r.compose(i,n.max)}else n instanceof E?(x.bind(t,"click",(function(){x.fakeEvent(n.__checkbox,"click")})),x.bind(n.__checkbox,"click",(function(e){e.stopPropagation()}))):n instanceof L?(x.bind(t,"click",(function(){x.fakeEvent(n.__button,"click")})),x.bind(t,"mouseover",(function(){x.addClass(n.__button,"hover")})),x.bind(t,"mouseout",(function(){x.removeClass(n.__button,"hover")}))):n instanceof R&&(x.addClass(t,"color"),n.updateDisplay=r.compose((function(e){return t.style.borderLeftColor=n.__color.toString(),e}),n.updateDisplay),n.updateDisplay());n.setValue=r.compose((function(t){return e.getRoot().__preset_select&&n.isModified()&&J(e.getRoot(),!0),t}),n.setValue)}(e,c,i),e.__controllers.push(i),i}function Z(e,t){return document.location.href+"."+t}function ee(e,t,n){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function te(e,t){t.style.display=e.useLocalStorage?"block":"none"}function ne(e){var t=e.__save_row=document.createElement("li");x.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),x.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",x.addClass(n,"button gears");var o=document.createElement("span");o.innerHTML="Save",x.addClass(o,"button"),x.addClass(o,"save");var i=document.createElement("span");i.innerHTML="New",x.addClass(i,"button"),x.addClass(i,"save-as");var a=document.createElement("span");a.innerHTML="Revert",x.addClass(a,"button"),x.addClass(a,"revert");var s=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?r.each(e.load.remembered,(function(t,n){ee(e,n,n===e.preset)})):ee(e,"Default",!1),x.bind(s,"change",(function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value})),t.appendChild(s),t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(a),V){var l=document.getElementById("dg-local-explain"),c=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(Z(0,"isLocal"))&&c.setAttribute("checked","checked"),te(e,l),x.bind(c,"change",(function(){e.useLocalStorage=!e.useLocalStorage,te(e,l)}))}var u=document.getElementById("dg-new-constructor");x.bind(u,"keydown",(function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||z.hide()})),x.bind(n,"click",(function(){u.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),z.show(),u.focus(),u.select()})),x.bind(o,"click",(function(){e.save()})),x.bind(i,"click",(function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)})),x.bind(a,"click",(function(){e.revert()}))}function re(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function oe(e,t){var n={};return r.each(e.__rememberedObjects,(function(o,i){var a={},s=e.__rememberedObjectIndecesToControllers[i];r.each(s,(function(e,n){a[n]=t?e.initialValue:e.getValue()})),n[i]=a})),n}function ie(e){0!==e.length&&j.call(window,(function(){ie(e)})),r.each(e,(function(e){e.updateDisplay()}))}K.toggleHide=function(){X=!X,r.each(Y,(function(e){e.domElement.style.display=X?"none":""}))},K.CLASS_AUTO_PLACE="a",K.CLASS_AUTO_PLACE_CONTAINER="ac",K.CLASS_MAIN="main",K.CLASS_CONTROLLER_ROW="cr",K.CLASS_TOO_TALL="taller-than-window",K.CLASS_CLOSED="closed",K.CLASS_CLOSE_BUTTON="close-button",K.CLASS_CLOSE_TOP="close-top",K.CLASS_CLOSE_BOTTOM="close-bottom",K.CLASS_DRAG="drag",K.DEFAULT_WIDTH=245,K.TEXT_CLOSED="Close Controls",K.TEXT_OPEN="Open Controls",K._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||K.toggleHide()},x.bind(window,"keydown",K._keydownHandler,!1),r.extend(K.prototype,{add:function(e,t){return $(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return $(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;r.defer((function(){t.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&U.removeChild(this.domElement);var e=this;r.each(this.__folders,(function(t){e.removeFolder(t)})),x.unbind(window,"keydown",K._keydownHandler,!1),q(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new K(t);this.__folders[e]=n;var r=W(this,n.domElement);return x.addClass(r,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],q(e);var t=this;r.each(e.__folders,(function(t){e.removeFolder(t)})),r.defer((function(){t.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=x.getOffset(e.__ul).top,n=0;r.each(e.__ul.childNodes,(function(t){e.autoPlace&&t===e.__save_row||(n+=x.getHeight(t))})),window.innerHeight-t-20<n?(x.addClass(e.domElement,K.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(x.removeClass(e.domElement,K.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&r.defer((function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"})),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:r.debounce((function(){this.onResize()}),50),remember:function(){if(r.isUndefined(z)&&((z=new I).domElement.innerHTML=D),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;r.each(Array.prototype.slice.call(arguments),(function(t){0===e.__rememberedObjects.length&&ne(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)})),this.autoPlace&&re(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=oe(this)),e.folders={},r.each(this.__folders,(function(t,n){e.folders[n]=t.getSaveObject()})),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=oe(this),J(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=oe(this,!0)),this.load.remembered[e]=oe(this),this.preset=e,ee(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){r.each(this.__controllers,(function(t){this.getRoot().load.remembered?Q(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())}),this),r.each(this.__folders,(function(e){e.revert(e)})),e||J(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&ie(this.__listening)},updateDisplay:function(){r.each(this.__controllers,(function(e){e.updateDisplay()})),r.each(this.__folders,(function(e){e.updateDisplay()}))}});var ae=K;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
var se,le=(function(e,t){e.exports=function(){for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t=e,n=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},r={},o=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];o<i.length;o+=1){var a=i[o];r["[object "+a+"]"]=a.toLowerCase()}var s=function(e){return r[Object.prototype.toString.call(e)]||"object"},l=s,c=function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==l(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},u=s,d=function(e){if(e.length<2)return null;var t=e.length-1;return"string"==u(e[t])?e[t].toLowerCase():null},f=Math.PI,h={clip_rgb:n,limit:e,type:s,unpack:c,last:d,PI:f,TWOPI:2*f,PITHIRD:f/3,DEG2RAD:f/180,RAD2DEG:180/f},p={format:{},autodetect:[]},b=h.last,_=h.clip_rgb,g=h.type,m=p,v=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this;if("object"===g(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=b(e),o=!1;if(!r){o=!0,m.sorted||(m.autodetect=m.autodetect.sort((function(e,t){return t.p-e.p})),m.sorted=!0);for(var i=0,a=m.autodetect;i<a.length;i+=1){var s=a[i];if(r=s.test.apply(s,e))break}}if(!m.format[r])throw new Error("unknown format: "+e);var l=m.format[r].apply(null,o?e:e.slice(0,-1));n._rgb=_(l),3===n._rgb.length&&n._rgb.push(1)};v.prototype.toString=function(){return"function"==g(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var y=v,w=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(w.Color,[null].concat(e)))};w.Color=y,w.version="2.4.2";var k=w,x=h.unpack,E=Math.max,A=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=x(e,"rgb"),r=n[0],o=n[1],i=n[2],a=1-E(r/=255,E(o/=255,i/=255)),s=a<1?1/(1-a):0;return[(1-r-a)*s,(1-o-a)*s,(1-i-a)*s,a]},C=h.unpack,S=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=C(e,"cmyk"))[0],r=e[1],o=e[2],i=e[3],a=e.length>4?e[4]:1;return 1===i?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-i),r>=1?0:255*(1-r)*(1-i),o>=1?0:255*(1-o)*(1-i),a]},O=k,N=y,M=p,T=h.unpack,L=h.type,R=A;N.prototype.cmyk=function(){return R(this._rgb)},O.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(N,[null].concat(e,["cmyk"])))},M.format.cmyk=S,M.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=T(e,"cmyk"),"array"===L(e)&&4===e.length)return"cmyk"}});var B=h.unpack,F=h.last,P=function(e){return Math.round(100*e)/100},D=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=B(e,"hsla"),r=F(e)||"lsa";return n[0]=P(n[0]||0),n[1]=P(100*n[1])+"%",n[2]=P(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},H=h.unpack,j=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=H(e,"rgba"))[0],r=e[1],o=e[2];n/=255,r/=255,o/=255;var i,a,s=Math.min(n,r,o),l=Math.max(n,r,o),c=(l+s)/2;return l===s?(i=0,a=Number.NaN):i=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?a=(r-o)/(l-s):r==l?a=2+(o-n)/(l-s):o==l&&(a=4+(n-r)/(l-s)),(a*=60)<0&&(a+=360),e.length>3&&void 0!==e[3]?[a,i,c,e[3]]:[a,i,c]},I=h.unpack,V=h.last,z=D,G=j,U=Math.round,X=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=I(e,"rgba"),r=V(e)||"rgb";return"hsl"==r.substr(0,3)?z(G(n),r):(n[0]=U(n[0]),n[1]=U(n[1]),n[2]=U(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},Y=h.unpack,K=Math.round,W=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r,o,i,a=(t=Y(t,"hsl"))[0],s=t[1],l=t[2];if(0===s)r=o=i=255*l;else{var c=[0,0,0],u=[0,0,0],d=l<.5?l*(1+s):l+s-l*s,f=2*l-d,h=a/360;c[0]=h+1/3,c[1]=h,c[2]=h-1/3;for(var p=0;p<3;p++)c[p]<0&&(c[p]+=1),c[p]>1&&(c[p]-=1),6*c[p]<1?u[p]=f+6*(d-f)*c[p]:2*c[p]<1?u[p]=d:3*c[p]<2?u[p]=f+(d-f)*(2/3-c[p])*6:u[p]=f;r=(e=[K(255*u[0]),K(255*u[1]),K(255*u[2])])[0],o=e[1],i=e[2]}return t.length>3?[r,o,i,t[3]]:[r,o,i,1]},q=W,J=p,Q=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,$=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Z=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ee=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,te=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ne=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,re=Math.round,oe=function(e){var t;if(e=e.toLowerCase().trim(),J.format.named)try{return J.format.named(e)}catch(p){}if(t=e.match(Q)){for(var n=t.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match($)){for(var o=t.slice(1,5),i=0;i<4;i++)o[i]=+o[i];return o}if(t=e.match(Z)){for(var a=t.slice(1,4),s=0;s<3;s++)a[s]=re(2.55*a[s]);return a[3]=1,a}if(t=e.match(ee)){for(var l=t.slice(1,5),c=0;c<3;c++)l[c]=re(2.55*l[c]);return l[3]=+l[3],l}if(t=e.match(te)){var u=t.slice(1,4);u[1]*=.01,u[2]*=.01;var d=q(u);return d[3]=1,d}if(t=e.match(ne)){var f=t.slice(1,4);f[1]*=.01,f[2]*=.01;var h=q(f);return h[3]=+t[4],h}};oe.test=function(e){return Q.test(e)||$.test(e)||Z.test(e)||ee.test(e)||te.test(e)||ne.test(e)};var ie=oe,ae=k,se=y,le=p,ce=h.type,ue=X,de=ie;se.prototype.css=function(e){return ue(this._rgb,e)},ae.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(se,[null].concat(e,["css"])))},le.format.css=de,le.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===ce(e)&&de.test(e))return"css"}});var fe=y,he=k,pe=p,be=h.unpack;pe.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=be(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},he.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(fe,[null].concat(e,["gl"])))},fe.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var _e=h.unpack,ge=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=_e(e,"rgb"),o=r[0],i=r[1],a=r[2],s=Math.min(o,i,a),l=Math.max(o,i,a),c=l-s,u=100*c/255,d=s/(255-c)*100;return 0===c?n=Number.NaN:(o===l&&(n=(i-a)/c),i===l&&(n=2+(a-o)/c),a===l&&(n=4+(o-i)/c),(n*=60)<0&&(n+=360)),[n,u,d]},me=h.unpack,ve=Math.floor,ye=function(){for(var e,t,n,r,o,i,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,d=(a=me(a,"hcg"))[0],f=a[1],h=a[2];h*=255;var p=255*f;if(0===f)l=c=u=h;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var b=ve(d/=60),_=d-b,g=h*(1-f),m=g+p*(1-_),v=g+p*_,y=g+p;switch(b){case 0:l=(e=[y,v,g])[0],c=e[1],u=e[2];break;case 1:l=(t=[m,y,g])[0],c=t[1],u=t[2];break;case 2:l=(n=[g,y,v])[0],c=n[1],u=n[2];break;case 3:l=(r=[g,m,y])[0],c=r[1],u=r[2];break;case 4:l=(o=[v,g,y])[0],c=o[1],u=o[2];break;case 5:l=(i=[y,g,m])[0],c=i[1],u=i[2]}}return[l,c,u,a.length>3?a[3]:1]},we=h.unpack,ke=h.type,xe=k,Ee=y,Ae=p,Ce=ge;Ee.prototype.hcg=function(){return Ce(this._rgb)},xe.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ee,[null].concat(e,["hcg"])))},Ae.format.hcg=ye,Ae.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=we(e,"hcg"),"array"===ke(e)&&3===e.length)return"hcg"}});var Se=h.unpack,Oe=h.last,Ne=Math.round,Me=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Se(e,"rgba"),r=n[0],o=n[1],i=n[2],a=n[3],s=Oe(e)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var l="000000"+((r=Ne(r))<<16|(o=Ne(o))<<8|(i=Ne(i))).toString(16);l=l.substr(l.length-6);var c="0"+Ne(255*a).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},Te=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Le=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Re=function(e){if(e.match(Te)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(Le)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+e)},Be=k,Fe=y,Pe=h.type,De=p,He=Me;Fe.prototype.hex=function(e){return He(this._rgb,e)},Be.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Fe,[null].concat(e,["hex"])))},De.format.hex=Re,De.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===Pe(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var je=h.unpack,Ie=h.TWOPI,Ve=Math.min,ze=Math.sqrt,Ge=Math.acos,Ue=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=je(e,"rgb"),o=r[0],i=r[1],a=r[2],s=Ve(o/=255,i/=255,a/=255),l=(o+i+a)/3,c=l>0?1-s/l:0;return 0===c?n=NaN:(n=(o-i+(o-a))/2,n/=ze((o-i)*(o-i)+(o-a)*(i-a)),n=Ge(n),a>i&&(n=Ie-n),n/=Ie),[360*n,c,l]},Xe=h.unpack,Ye=h.limit,Ke=h.TWOPI,We=h.PITHIRD,qe=Math.cos,Je=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,o,i=(e=Xe(e,"hsi"))[0],a=e[1],s=e[2];return isNaN(i)&&(i=0),isNaN(a)&&(a=0),i>360&&(i-=360),i<0&&(i+=360),(i/=360)<1/3?r=1-((o=(1-a)/3)+(n=(1+a*qe(Ke*i)/qe(We-Ke*i))/3)):i<2/3?o=1-((n=(1-a)/3)+(r=(1+a*qe(Ke*(i-=1/3))/qe(We-Ke*i))/3)):n=1-((r=(1-a)/3)+(o=(1+a*qe(Ke*(i-=2/3))/qe(We-Ke*i))/3)),[255*(n=Ye(s*n*3)),255*(r=Ye(s*r*3)),255*(o=Ye(s*o*3)),e.length>3?e[3]:1]},Qe=h.unpack,$e=h.type,Ze=k,et=y,tt=p,nt=Ue;et.prototype.hsi=function(){return nt(this._rgb)},Ze.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(et,[null].concat(e,["hsi"])))},tt.format.hsi=Je,tt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Qe(e,"hsi"),"array"===$e(e)&&3===e.length)return"hsi"}});var rt=h.unpack,ot=h.type,it=k,at=y,st=p,lt=j;at.prototype.hsl=function(){return lt(this._rgb)},it.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(at,[null].concat(e,["hsl"])))},st.format.hsl=W,st.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=rt(e,"hsl"),"array"===ot(e)&&3===e.length)return"hsl"}});var ct=h.unpack,ut=Math.min,dt=Math.max,ft=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,o,i=(e=ct(e,"rgb"))[0],a=e[1],s=e[2],l=ut(i,a,s),c=dt(i,a,s),u=c-l;return o=c/255,0===c?(n=Number.NaN,r=0):(r=u/c,i===c&&(n=(a-s)/u),a===c&&(n=2+(s-i)/u),s===c&&(n=4+(i-a)/u),(n*=60)<0&&(n+=360)),[n,r,o]},ht=h.unpack,pt=Math.floor,bt=function(){for(var e,t,n,r,o,i,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,d=(a=ht(a,"hsv"))[0],f=a[1],h=a[2];if(h*=255,0===f)l=c=u=h;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var p=pt(d/=60),b=d-p,_=h*(1-f),g=h*(1-f*b),m=h*(1-f*(1-b));switch(p){case 0:l=(e=[h,m,_])[0],c=e[1],u=e[2];break;case 1:l=(t=[g,h,_])[0],c=t[1],u=t[2];break;case 2:l=(n=[_,h,m])[0],c=n[1],u=n[2];break;case 3:l=(r=[_,g,h])[0],c=r[1],u=r[2];break;case 4:l=(o=[m,_,h])[0],c=o[1],u=o[2];break;case 5:l=(i=[h,_,g])[0],c=i[1],u=i[2]}}return[l,c,u,a.length>3?a[3]:1]},_t=h.unpack,gt=h.type,mt=k,vt=y,yt=p,wt=ft;vt.prototype.hsv=function(){return wt(this._rgb)},mt.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(vt,[null].concat(e,["hsv"])))},yt.format.hsv=bt,yt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=_t(e,"hsv"),"array"===gt(e)&&3===e.length)return"hsv"}});var kt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},xt=kt,Et=h.unpack,At=Math.pow,Ct=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Et(e,"rgb"),r=n[0],o=n[1],i=n[2],a=Nt(r,o,i),s=a[0],l=a[1],c=116*l-16;return[c<0?0:c,500*(s-l),200*(l-a[2])]},St=function(e){return(e/=255)<=.04045?e/12.92:At((e+.055)/1.055,2.4)},Ot=function(e){return e>xt.t3?At(e,1/3):e/xt.t2+xt.t0},Nt=function(e,t,n){return e=St(e),t=St(t),n=St(n),[Ot((.4124564*e+.3575761*t+.1804375*n)/xt.Xn),Ot((.2126729*e+.7151522*t+.072175*n)/xt.Yn),Ot((.0193339*e+.119192*t+.9503041*n)/xt.Zn)]},Mt=Ct,Tt=kt,Lt=h.unpack,Rt=Math.pow,Bt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,o,i=(e=Lt(e,"lab"))[0],a=e[1],s=e[2];return r=(i+16)/116,n=isNaN(a)?r:r+a/500,o=isNaN(s)?r:r-s/200,r=Tt.Yn*Pt(r),n=Tt.Xn*Pt(n),o=Tt.Zn*Pt(o),[Ft(3.2404542*n-1.5371385*r-.4985314*o),Ft(-.969266*n+1.8760108*r+.041556*o),Ft(.0556434*n-.2040259*r+1.0572252*o),e.length>3?e[3]:1]},Ft=function(e){return 255*(e<=.00304?12.92*e:1.055*Rt(e,1/2.4)-.055)},Pt=function(e){return e>Tt.t1?e*e*e:Tt.t2*(e-Tt.t0)},Dt=Bt,Ht=h.unpack,jt=h.type,It=k,Vt=y,zt=p,Gt=Mt;Vt.prototype.lab=function(){return Gt(this._rgb)},It.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Vt,[null].concat(e,["lab"])))},zt.format.lab=Dt,zt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ht(e,"lab"),"array"===jt(e)&&3===e.length)return"lab"}});var Ut=h.unpack,Xt=h.RAD2DEG,Yt=Math.sqrt,Kt=Math.atan2,Wt=Math.round,qt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Ut(e,"lab"),r=n[0],o=n[1],i=n[2],a=Yt(o*o+i*i),s=(Kt(i,o)*Xt+360)%360;return 0===Wt(1e4*a)&&(s=Number.NaN),[r,a,s]},Jt=h.unpack,Qt=Mt,$t=qt,Zt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Jt(e,"rgb"),r=n[0],o=n[1],i=n[2],a=Qt(r,o,i),s=a[0],l=a[1],c=a[2];return $t(s,l,c)},en=h.unpack,tn=h.DEG2RAD,nn=Math.sin,rn=Math.cos,on=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=en(e,"lch"),r=n[0],o=n[1],i=n[2];return isNaN(i)&&(i=0),[r,rn(i*=tn)*o,nn(i)*o]},an=h.unpack,sn=on,ln=Dt,cn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=an(e,"lch"))[0],r=e[1],o=e[2],i=sn(n,r,o),a=i[0],s=i[1],l=i[2],c=ln(a,s,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},un=h.unpack,dn=cn,fn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=un(e,"hcl").reverse();return dn.apply(void 0,n)},hn=h.unpack,pn=h.type,bn=k,_n=y,gn=p,mn=Zt;_n.prototype.lch=function(){return mn(this._rgb)},_n.prototype.hcl=function(){return mn(this._rgb).reverse()},bn.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(_n,[null].concat(e,["lch"])))},bn.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(_n,[null].concat(e,["hcl"])))},gn.format.lch=cn,gn.format.hcl=fn,["lch","hcl"].forEach((function(e){return gn.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=hn(t,e),"array"===pn(t)&&3===t.length)return e}})}));var vn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},yn=y,wn=p,kn=h.type,xn=vn,En=Re,An=Me;yn.prototype.name=function(){for(var e=An(this._rgb,"rgb"),t=0,n=Object.keys(xn);t<n.length;t+=1){var r=n[t];if(xn[r]===e)return r.toLowerCase()}return e},wn.format.named=function(e){if(e=e.toLowerCase(),xn[e])return En(xn[e]);throw new Error("unknown color name: "+e)},wn.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===kn(e)&&xn[e.toLowerCase()])return"named"}});var Cn=h.unpack,Sn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Cn(e,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},On=h.type,Nn=function(e){if("number"==On(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Mn=k,Tn=y,Ln=p,Rn=h.type,Bn=Sn;Tn.prototype.num=function(){return Bn(this._rgb)},Mn.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Tn,[null].concat(e,["num"])))},Ln.format.num=Nn,Ln.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Rn(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var Fn=k,Pn=y,Dn=p,Hn=h.unpack,jn=h.type,In=Math.round;Pn.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(In)},Pn.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,n){return n<3?!1===e?t:In(t):t}))},Fn.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Pn,[null].concat(e,["rgb"])))},Dn.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Hn(e,"rgba");return void 0===n[3]&&(n[3]=1),n},Dn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Hn(e,"rgba"),"array"===jn(e)&&(3===e.length||4===e.length&&"number"==jn(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var Vn=Math.log,zn=function(e){var t,n,r,o=e/100;return o<66?(t=255,n=o<6?0:-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*Vn(n),r=o<20?0:.8274096064007395*(r=o-10)-254.76935184120902+115.67994401066147*Vn(r)):(t=351.97690566805693+.114206453784165*(t=o-55)-40.25366309332127*Vn(t),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*Vn(n),r=255),[t,n,r,1]},Gn=zn,Un=h.unpack,Xn=Math.round,Yn=k,Kn=y,Wn=p,qn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,r=Un(e,"rgb"),o=r[0],i=r[2],a=1e3,s=4e4,l=.4;s-a>l;){var c=Gn(n=.5*(s+a));c[2]/c[0]>=i/o?s=n:a=n}return Xn(n)};Kn.prototype.temp=Kn.prototype.kelvin=Kn.prototype.temperature=function(){return qn(this._rgb)},Yn.temp=Yn.kelvin=Yn.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Kn,[null].concat(e,["temp"])))},Wn.format.temp=Wn.format.kelvin=Wn.format.temperature=zn;var Jn=h.unpack,Qn=Math.cbrt,$n=Math.pow,Zn=Math.sign,er=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Jn(e,"rgb"),r=n[0],o=n[1],i=n[2],a=[tr(r/255),tr(o/255),tr(i/255)],s=a[0],l=a[1],c=a[2],u=Qn(.4122214708*s+.5363325363*l+.0514459929*c),d=Qn(.2119034982*s+.6806995451*l+.1073969566*c),f=Qn(.0883024619*s+.2817188376*l+.6299787005*c);return[.2104542553*u+.793617785*d-.0040720468*f,1.9779984951*u-2.428592205*d+.4505937099*f,.0259040371*u+.7827717662*d-.808675766*f]};function tr(e){var t=Math.abs(e);return t<.04045?e/12.92:(Zn(e)||1)*$n((t+.055)/1.055,2.4)}var nr=h.unpack,rr=Math.pow,or=Math.sign,ir=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=nr(e,"lab"))[0],r=e[1],o=e[2],i=rr(n+.3963377774*r+.2158037573*o,3),a=rr(n-.1055613458*r-.0638541728*o,3),s=rr(n-.0894841775*r-1.291485548*o,3);return[255*ar(4.0767416621*i-3.3077115913*a+.2309699292*s),255*ar(-1.2684380046*i+2.6097574011*a-.3413193965*s),255*ar(-.0041960863*i-.7034186147*a+1.707614701*s),e.length>3?e[3]:1]};function ar(e){var t=Math.abs(e);return t>.0031308?(or(e)||1)*(1.055*rr(t,1/2.4)-.055):12.92*e}var sr=h.unpack,lr=h.type,cr=k,ur=y,dr=p,fr=er;ur.prototype.oklab=function(){return fr(this._rgb)},cr.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ur,[null].concat(e,["oklab"])))},dr.format.oklab=ir,dr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=sr(e,"oklab"),"array"===lr(e)&&3===e.length)return"oklab"}});var hr=h.unpack,pr=er,br=qt,_r=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=hr(e,"rgb"),r=n[0],o=n[1],i=n[2],a=pr(r,o,i),s=a[0],l=a[1],c=a[2];return br(s,l,c)},gr=h.unpack,mr=on,vr=ir,yr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=gr(e,"lch"))[0],r=e[1],o=e[2],i=mr(n,r,o),a=i[0],s=i[1],l=i[2],c=vr(a,s,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},wr=h.unpack,kr=h.type,xr=k,Er=y,Ar=p,Cr=_r;Er.prototype.oklch=function(){return Cr(this._rgb)},xr.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Er,[null].concat(e,["oklch"])))},Ar.format.oklch=yr,Ar.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=wr(e,"oklch"),"array"===kr(e)&&3===e.length)return"oklch"}});var Sr=y,Or=h.type;Sr.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Or(e)?t?(this._rgb[3]=e,this):new Sr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},y.prototype.clipped=function(){return this._rgb._clipped||!1};var Nr=y,Mr=kt;Nr.prototype.darken=function(e){void 0===e&&(e=1);var t=this,n=t.lab();return n[0]-=Mr.Kn*e,new Nr(n,"lab").alpha(t.alpha(),!0)},Nr.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},Nr.prototype.darker=Nr.prototype.darken,Nr.prototype.brighter=Nr.prototype.brighten,y.prototype.get=function(e){var t=e.split("."),n=t[0],r=t[1],o=this[n]();if(r){var i=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(i>-1)return o[i];throw new Error("unknown channel "+r+" in mode "+n)}return o};var Tr=y,Lr=h.type,Rr=Math.pow,Br=1e-7,Fr=20;Tr.prototype.luminance=function(e){if(void 0!==e&&"number"===Lr(e)){if(0===e)return new Tr([0,0,0,this._rgb[3]],"rgb");if(1===e)return new Tr([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n="rgb",r=Fr,o=function(t,i){var a=t.interpolate(i,.5,n),s=a.luminance();return Math.abs(e-s)<Br||!r--?a:s>e?o(t,a):o(a,i)},i=(t>e?o(new Tr([0,0,0]),this):o(this,new Tr([255,255,255]))).rgb();return new Tr(i.concat([this._rgb[3]]))}return Pr.apply(void 0,this._rgb.slice(0,3))};var Pr=function(e,t,n){return.2126*(e=Dr(e))+.7152*(t=Dr(t))+.0722*(n=Dr(n))},Dr=function(e){return(e/=255)<=.03928?e/12.92:Rr((e+.055)/1.055,2.4)},Hr={},jr=y,Ir=h.type,Vr=Hr,zr=function(e,t,n){void 0===n&&(n=.5);for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var i=r[0]||"lrgb";if(Vr[i]||r.length||(i=Object.keys(Vr)[0]),!Vr[i])throw new Error("interpolation mode "+i+" is not defined");return"object"!==Ir(e)&&(e=new jr(e)),"object"!==Ir(t)&&(t=new jr(t)),Vr[i](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))},Gr=y,Ur=zr;Gr.prototype.mix=Gr.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Ur.apply(void 0,[this,e,t].concat(n))};var Xr=y;Xr.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new Xr([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};var Yr=y,Kr=kt;Yr.prototype.saturate=function(e){void 0===e&&(e=1);var t=this,n=t.lch();return n[1]+=Kr.Kn*e,n[1]<0&&(n[1]=0),new Yr(n,"lch").alpha(t.alpha(),!0)},Yr.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var Wr=y,qr=h.type;Wr.prototype.set=function(e,t,n){void 0===n&&(n=!1);var r=e.split("."),o=r[0],i=r[1],a=this[o]();if(i){var s=o.indexOf(i)-("ok"===o.substr(0,2)?2:0);if(s>-1){if("string"==qr(t))switch(t.charAt(0)){case"+":case"-":a[s]+=+t;break;case"*":a[s]*=+t.substr(1);break;case"/":a[s]/=+t.substr(1);break;default:a[s]=+t}else{if("number"!==qr(t))throw new Error("unsupported value for Color.set");a[s]=t}var l=new Wr(a,o);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+i+" in mode "+o)}return a};var Jr=y,Qr=function(e,t,n){var r=e._rgb,o=t._rgb;return new Jr(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"rgb")};Hr.rgb=Qr;var $r=y,Zr=Math.sqrt,eo=Math.pow,to=function(e,t,n){var r=e._rgb,o=r[0],i=r[1],a=r[2],s=t._rgb,l=s[0],c=s[1],u=s[2];return new $r(Zr(eo(o,2)*(1-n)+eo(l,2)*n),Zr(eo(i,2)*(1-n)+eo(c,2)*n),Zr(eo(a,2)*(1-n)+eo(u,2)*n),"rgb")};Hr.lrgb=to;var no=y,ro=function(e,t,n){var r=e.lab(),o=t.lab();return new no(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"lab")};Hr.lab=ro;var oo=y,io=function(e,t,n,r){var o,i,a,s,l,c,u,d,f,h,p,b,_;return"hsl"===r?(a=e.hsl(),s=t.hsl()):"hsv"===r?(a=e.hsv(),s=t.hsv()):"hcg"===r?(a=e.hcg(),s=t.hcg()):"hsi"===r?(a=e.hsi(),s=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=e.hcl(),s=t.hcl()):"oklch"===r&&(a=e.oklch().reverse(),s=t.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(o=a)[0],u=o[1],f=o[2],c=(i=s)[0],d=i[1],h=i[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?b=Number.NaN:(b=c,1!=f&&0!=f||"hsv"==r||(p=d)):(b=l,1!=h&&0!=h||"hsv"==r||(p=u)):b=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===p&&(p=u+n*(d-u)),_=f+n*(h-f),new oo("oklch"===r?[_,p,b]:[b,p,_],r)},ao=io,so=function(e,t,n){return ao(e,t,n,"lch")};Hr.lch=so,Hr.hcl=so;var lo=y,co=function(e,t,n){var r=e.num(),o=t.num();return new lo(r+n*(o-r),"num")};Hr.num=co;var uo=io,fo=function(e,t,n){return uo(e,t,n,"hcg")};Hr.hcg=fo;var ho=io,po=function(e,t,n){return ho(e,t,n,"hsi")};Hr.hsi=po;var bo=io,_o=function(e,t,n){return bo(e,t,n,"hsl")};Hr.hsl=_o;var go=io,mo=function(e,t,n){return go(e,t,n,"hsv")};Hr.hsv=mo;var vo=y,yo=function(e,t,n){var r=e.oklab(),o=t.oklab();return new vo(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"oklab")};Hr.oklab=yo;var wo=io,ko=function(e,t,n){return wo(e,t,n,"oklch")};Hr.oklch=ko;var xo=y,Eo=h.clip_rgb,Ao=Math.pow,Co=Math.sqrt,So=Math.PI,Oo=Math.cos,No=Math.sin,Mo=Math.atan2,To=function(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var r=e.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var o=r/n.reduce((function(e,t){return e+t}));if(n.forEach((function(e,t){n[t]*=o})),e=e.map((function(e){return new xo(e)})),"lrgb"===t)return Lo(e,n);for(var i=e.shift(),a=i.get(t),s=[],l=0,c=0,u=0;u<a.length;u++)if(a[u]=(a[u]||0)*n[0],s.push(isNaN(a[u])?0:n[0]),"h"===t.charAt(u)&&!isNaN(a[u])){var d=a[u]/180*So;l+=Oo(d)*n[0],c+=No(d)*n[0]}var f=i.alpha()*n[0];e.forEach((function(e,r){var o=e.get(t);f+=e.alpha()*n[r+1];for(var i=0;i<a.length;i++)if(!isNaN(o[i]))if(s[i]+=n[r+1],"h"===t.charAt(i)){var u=o[i]/180*So;l+=Oo(u)*n[r+1],c+=No(u)*n[r+1]}else a[i]+=o[i]*n[r+1]}));for(var h=0;h<a.length;h++)if("h"===t.charAt(h)){for(var p=Mo(c/s[h],l/s[h])/So*180;p<0;)p+=360;for(;p>=360;)p-=360;a[h]=p}else a[h]=a[h]/s[h];return f/=r,new xo(a,t).alpha(f>.99999?1:f,!0)},Lo=function(e,t){for(var n=e.length,r=[0,0,0,0],o=0;o<e.length;o++){var i=e[o],a=t[o]/n,s=i._rgb;r[0]+=Ao(s[0],2)*a,r[1]+=Ao(s[1],2)*a,r[2]+=Ao(s[2],2)*a,r[3]+=s[3]*a}return r[0]=Co(r[0]),r[1]=Co(r[1]),r[2]=Co(r[2]),r[3]>.9999999&&(r[3]=1),new xo(Eo(r))},Ro=k,Bo=h.type,Fo=Math.pow,Po=function(e){var t="rgb",n=Ro("#ccc"),r=0,o=[0,1],i=[],a=[0,0],s=!1,l=[],c=!1,u=0,d=1,f=!1,h={},p=!0,b=1,_=function(e){if((e=e||["#fff","#000"])&&"string"===Bo(e)&&Ro.brewer&&Ro.brewer[e.toLowerCase()]&&(e=Ro.brewer[e.toLowerCase()]),"array"===Bo(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=Ro(e[t]);i.length=0;for(var n=0;n<e.length;n++)i.push(n/(e.length-1))}return w(),l=e},g=function(e){if(null!=s){for(var t=s.length-1,n=0;n<t&&e>=s[n];)n++;return n-1}return 0},m=function(e){return e},v=function(e){return e},y=function(e,r){var o,c;if(null==r&&(r=!1),isNaN(e)||null===e)return n;c=r?e:s&&s.length>2?g(e)/(s.length-2):d!==u?(e-u)/(d-u):1,c=v(c),r||(c=m(c)),1!==b&&(c=Fo(c,b)),c=a[0]+c*(1-a[0]-a[1]),c=Math.min(1,Math.max(0,c));var f=Math.floor(1e4*c);if(p&&h[f])o=h[f];else{if("array"===Bo(l))for(var _=0;_<i.length;_++){var y=i[_];if(c<=y){o=l[_];break}if(c>=y&&_===i.length-1){o=l[_];break}if(c>y&&c<i[_+1]){c=(c-y)/(i[_+1]-y),o=Ro.interpolate(l[_],l[_+1],c,t);break}}else"function"===Bo(l)&&(o=l(c));p&&(h[f]=o)}return o},w=function(){return h={}};_(e);var k=function(e){var t=Ro(y(e));return c&&t[c]?t[c]():t};return k.classes=function(e){if(null!=e){if("array"===Bo(e))s=e,o=[e[0],e[e.length-1]];else{var t=Ro.analyze(o);s=0===e?[t.min,t.max]:Ro.limits(t,"e",e)}return k}return s},k.domain=function(e){if(!arguments.length)return o;u=e[0],d=e[e.length-1],i=[];var t=l.length;if(e.length===t&&u!==d)for(var n=0,r=Array.from(e);n<r.length;n+=1){var a=r[n];i.push((a-u)/(d-u))}else{for(var s=0;s<t;s++)i.push(s/(t-1));if(e.length>2){var c=e.map((function(t,n){return n/(e.length-1)})),f=e.map((function(e){return(e-u)/(d-u)}));f.every((function(e,t){return c[t]===e}))||(v=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=f[t+1];)t++;var n=(e-f[t])/(f[t+1]-f[t]);return c[t]+n*(c[t+1]-c[t])})}}return o=[u,d],k},k.mode=function(e){return arguments.length?(t=e,w(),k):t},k.range=function(e,t){return _(e),k},k.out=function(e){return c=e,k},k.spread=function(e){return arguments.length?(r=e,k):r},k.correctLightness=function(e){return null==e&&(e=!0),f=e,w(),m=f?function(e){for(var t=y(0,!0).lab()[0],n=y(1,!0).lab()[0],r=t>n,o=y(e,!0).lab()[0],i=t+(n-t)*e,a=o-i,s=0,l=1,c=20;Math.abs(a)>.01&&c-- >0;)r&&(a*=-1),a<0?(s=e,e+=.5*(l-e)):(l=e,e+=.5*(s-e)),o=y(e,!0).lab()[0],a=o-i;return e}:function(e){return e},k},k.padding=function(e){return null!=e?("number"===Bo(e)&&(e=[e,e]),a=e,k):a},k.colors=function(t,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===t)r=[k(.5)];else if(t>1){var i=o[0],a=o[1]-i;r=Do(0,t,!1).map((function(e){return k(i+e/(t-1)*a)}))}else{e=[];var c=[];if(s&&s.length>2)for(var u=1,d=s.length,f=1<=d;f?u<d:u>d;f?u++:u--)c.push(.5*(s[u-1]+s[u]));else c=o;r=c.map((function(e){return k(e)}))}return Ro[n]&&(r=r.map((function(e){return e[n]()}))),r},k.cache=function(e){return null!=e?(p=e,k):p},k.gamma=function(e){return null!=e?(b=e,k):b},k.nodata=function(e){return null!=e?(n=Ro(e),k):n},k};function Do(e,t,n){for(var r=[],o=e<t,i=n?o?t+1:t-1:t,a=e;o?a<i:a>i;o?a++:a--)r.push(a);return r}var Ho=y,jo=Po,Io=function(e){for(var t=[1,1],n=1;n<e;n++){for(var r=[1],o=1;o<=t.length;o++)r[o]=(t[o]||0)+t[o-1];t=r}return t},Vo=function(e){var t,n,r,o,i,a,s;if(2===(e=e.map((function(e){return new Ho(e)}))).length)t=e.map((function(e){return e.lab()})),i=t[0],a=t[1],o=function(e){var t=[0,1,2].map((function(t){return i[t]+e*(a[t]-i[t])}));return new Ho(t,"lab")};else if(3===e.length)n=e.map((function(e){return e.lab()})),i=n[0],a=n[1],s=n[2],o=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*i[t]+2*(1-e)*e*a[t]+e*e*s[t]}));return new Ho(t,"lab")};else if(4===e.length){var l;r=e.map((function(e){return e.lab()})),i=r[0],a=r[1],s=r[2],l=r[3],o=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*i[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]}));return new Ho(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,u,d;c=e.map((function(e){return e.lab()})),d=e.length-1,u=Io(d),o=function(e){var t=1-e,n=[0,1,2].map((function(n){return c.reduce((function(r,o,i){return r+u[i]*Math.pow(t,d-i)*Math.pow(e,i)*o[n]}),0)}));return new Ho(n,"lab")}}return o},zo=function(e){var t=Vo(e);return t.scale=function(){return jo(t)},t},Go=k,Uo=function(e,t,n){if(!Uo[n])throw new Error("unknown blend mode "+n);return Uo[n](e,t)},Xo=function(e){return function(t,n){var r=Go(n).rgb(),o=Go(t).rgb();return Go.rgb(e(r,o))}},Yo=function(e){return function(t,n){var r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r}},Ko=function(e){return e},Wo=function(e,t){return e*t/255},qo=function(e,t){return e>t?t:e},Jo=function(e,t){return e>t?e:t},Qo=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},$o=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},Zo=function(e,t){return 255*(1-(1-t/255)/(e/255))},ei=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e};Uo.normal=Xo(Yo(Ko)),Uo.multiply=Xo(Yo(Wo)),Uo.screen=Xo(Yo(Qo)),Uo.overlay=Xo(Yo($o)),Uo.darken=Xo(Yo(qo)),Uo.lighten=Xo(Yo(Jo)),Uo.dodge=Xo(Yo(ei)),Uo.burn=Xo(Yo(Zo));for(var ti=Uo,ni=h.type,ri=h.clip_rgb,oi=h.TWOPI,ii=Math.pow,ai=Math.sin,si=Math.cos,li=k,ci=function(e,t,n,r,o){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=[0,1]);var i,a=0;"array"===ni(o)?i=o[1]-o[0]:(i=0,o=[o,o]);var s=function(s){var l=oi*((e+120)/360+t*s),c=ii(o[0]+i*s,r),u=(0!==a?n[0]+s*a:n)*c*(1-c)/2,d=si(l),f=ai(l);return li(ri([255*(c+u*(-.14861*d+1.78277*f)),255*(c+u*(-.29227*d-.90649*f)),255*(c+u*(1.97294*d)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:("array"===ni(n=e)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(e){return null==e?o:("array"===ni(e)?(o=e,i=e[1]-e[0]):(o=[e,e],i=0),s)},s.scale=function(){return li.scale(s)},s.hue(n),s},ui=y,di="0123456789abcdef",fi=Math.floor,hi=Math.random,pi=function(){for(var e="#",t=0;t<6;t++)e+=di.charAt(fi(16*hi()));return new ui(e,"hex")},bi=s,_i=Math.log,gi=Math.pow,mi=Math.floor,vi=Math.abs,yi=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===bi(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===bi(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(e,t){return wi(n,e,t)},n},wi=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==bi(e)&&(e=yi(e));var r=e.min,o=e.max,i=e.values.sort((function(e,t){return e-t}));if(1===n)return[r,o];var a=[];if("c"===t.substr(0,1)&&(a.push(r),a.push(o)),"e"===t.substr(0,1)){a.push(r);for(var s=1;s<n;s++)a.push(r+s/n*(o-r));a.push(o)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*_i(r),c=Math.LOG10E*_i(o);a.push(r);for(var u=1;u<n;u++)a.push(gi(10,l+u/n*(c-l)));a.push(o)}else if("q"===t.substr(0,1)){a.push(r);for(var d=1;d<n;d++){var f=(i.length-1)*d/n,h=mi(f);if(h===f)a.push(i[h]);else{var p=f-h;a.push(i[h]*(1-p)+i[h+1]*p)}}a.push(o)}else if("k"===t.substr(0,1)){var b,_=i.length,g=new Array(_),m=new Array(n),v=!0,y=0,w=null;(w=[]).push(r);for(var k=1;k<n;k++)w.push(r+k/n*(o-r));for(w.push(o);v;){for(var x=0;x<n;x++)m[x]=0;for(var E=0;E<_;E++)for(var A=i[E],C=Number.MAX_VALUE,S=void 0,O=0;O<n;O++){var N=vi(w[O]-A);N<C&&(C=N,S=O),m[S]++,g[E]=S}for(var M=new Array(n),T=0;T<n;T++)M[T]=null;for(var L=0;L<_;L++)null===M[b=g[L]]?M[b]=i[L]:M[b]+=i[L];for(var R=0;R<n;R++)M[R]*=1/m[R];v=!1;for(var B=0;B<n;B++)if(M[B]!==w[B]){v=!0;break}w=M,++y>200&&(v=!1)}for(var F={},P=0;P<n;P++)F[P]=[];for(var D=0;D<_;D++)F[b=g[D]].push(i[D]);for(var H=[],j=0;j<n;j++)H.push(F[j][0]),H.push(F[j][F[j].length-1]);H=H.sort((function(e,t){return e-t})),a.push(H[0]);for(var I=1;I<H.length;I+=2){var V=H[I];isNaN(V)||-1!==a.indexOf(V)||a.push(V)}}return a},ki={analyze:yi,limits:wi},xi=y,Ei=function(e,t){e=new xi(e),t=new xi(t);var n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},Ai=y,Ci=Math.sqrt,Si=Math.pow,Oi=Math.min,Ni=Math.max,Mi=Math.atan2,Ti=Math.abs,Li=Math.cos,Ri=Math.sin,Bi=Math.exp,Fi=Math.PI,Pi=function(e,t,n,r,o){void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=1);var i=function(e){return 360*e/(2*Fi)},a=function(e){return 2*Fi*e/360};e=new Ai(e),t=new Ai(t);var s=Array.from(e.lab()),l=s[0],c=s[1],u=s[2],d=Array.from(t.lab()),f=d[0],h=d[1],p=d[2],b=(l+f)/2,_=(Ci(Si(c,2)+Si(u,2))+Ci(Si(h,2)+Si(p,2)))/2,g=.5*(1-Ci(Si(_,7)/(Si(_,7)+Si(25,7)))),m=c*(1+g),v=h*(1+g),y=Ci(Si(m,2)+Si(u,2)),w=Ci(Si(v,2)+Si(p,2)),k=(y+w)/2,x=i(Mi(u,m)),E=i(Mi(p,v)),A=x>=0?x:x+360,C=E>=0?E:E+360,S=Ti(A-C)>180?(A+C+360)/2:(A+C)/2,O=1-.17*Li(a(S-30))+.24*Li(a(2*S))+.32*Li(a(3*S+6))-.2*Li(a(4*S-63)),N=C-A;N=Ti(N)<=180?N:C<=A?N+360:N-360,N=2*Ci(y*w)*Ri(a(N)/2);var M=f-l,T=w-y,L=1+.015*Si(b-50,2)/Ci(20+Si(b-50,2)),R=1+.045*k,B=1+.015*k*O,F=30*Bi(-Si((S-275)/25,2)),P=-2*Ci(Si(k,7)/(Si(k,7)+Si(25,7)))*Ri(2*a(F)),D=Ci(Si(M/(n*L),2)+Si(T/(r*R),2)+Si(N/(o*B),2)+P*(T/(r*R))*(N/(o*B)));return Ni(0,Oi(100,D))},Di=y,Hi=function(e,t,n){void 0===n&&(n="lab"),e=new Di(e),t=new Di(t);var r=e.get(n),o=t.get(n),i=0;for(var a in r){var s=(r[a]||0)-(o[a]||0);i+=s*s}return Math.sqrt(i)},ji=y,Ii=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(ji,[null].concat(e))),!0}catch(n){return!1}},Vi=k,zi=Po,Gi={cool:function(){return zi([Vi.hsl(180,1,.9),Vi.hsl(250,.7,.4)])},hot:function(){return zi(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Ui={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Xi=0,Yi=Object.keys(Ui);Xi<Yi.length;Xi+=1){var Ki=Yi[Xi];Ui[Ki.toLowerCase()]=Ui[Ki]}var Wi=Ui,qi=k;return qi.average=To,qi.bezier=zo,qi.blend=ti,qi.cubehelix=ci,qi.mix=qi.interpolate=zr,qi.random=pi,qi.scale=Po,qi.analyze=ki.analyze,qi.contrast=Ei,qi.deltaE=Pi,qi.distance=Hi,qi.limits=ki.limits,qi.valid=Ii,qi.scales=Gi,qi.colors=vn,qi.brewer=Wi,qi}()}(se={exports:{}},se.exports),se.exports);export{ae as G,le as c};
