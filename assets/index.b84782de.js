var t,e;import{G as i}from"./vendor.34f1e898.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(i){const s=new URL(t,location),n=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((i,a)=>{const r=new URL(t,s);if(self[e].moduleMap[r])return i(self[e].moduleMap[r]);const o=new Blob([`import * as m from '${r}';`,`${e}.moduleMap['${r}']=m;`],{type:"text/javascript"}),h=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){a(new Error(`Failed to import: ${t}`)),n(h)},onload(){i(self[e].moduleMap[r]),n(h)}});document.head.appendChild(h)})),self[e].moduleMap={}}}("assets/");let s={x:0,y:0,down:!1};const n=document.getElementById("canvas"),a=n.getContext("2d");n.addEventListener("mousedown",(()=>{s.down=!0}));const r=1024;var o=window.innerWidth,h=window.innerHeight,l=window.innerWidth*(null!=(t=window.devicePixelRatio)?t:1),c=window.innerHeight*(null!=(e=window.devicePixelRatio)?e:1);let d=Math.min(r/l,r/c);o=d*l,h=d*c,n.addEventListener("mousemove",(t=>{var e,i;s.x=t.clientX*d*(null!=(e=window.devicePixelRatio)?e:1),s.y=t.clientY*d*(null!=(i=window.devicePixelRatio)?i:1)}));const y=()=>{var t,e;l=window.innerWidth*(null!=(t=window.devicePixelRatio)?t:1),c=window.innerHeight*(null!=(e=window.devicePixelRatio)?e:1),d=Math.min(r/l,r/c),o=d*l,h=d*c,n.width=l,n.height=c};window.addEventListener("resize",y);const f=new class{constructor(){this.GRAVITY_Y=.125,this.GRAVITY_X=0,this.RANGE=25,this.PRESSURE=1,this.VISCOSITY=.05}},x=new i;x.add(f,"VISCOSITY").name("viscosity").max(.5).min(0).step(.025),x.add(f,"GRAVITY_X").name("gravity x").max(1).min(-1).step(.125),x.add(f,"GRAVITY_Y").name("gravity y").max(1).min(-1).step(.125),y();var v=f.RANGE*f.RANGE,m=Math.ceil(r/f.RANGE),w=Math.ceil(r/f.RANGE),u=1/(o/m),g=1/(h/w),p=[],R=0,E=[],M=0,A=0,G=[],S=0,I=new Date;function N(t,e){for(var i=0;i<e.numParticles;i++){var s=e.particles[i];if(t!=s)(t.x-s.x)*(t.x-s.x)+(t.y-s.y)*(t.y-s.y)<v&&(E.length==M&&(E[M]=new T),E[M++].setParticle(t,s))}}class P{constructor(t,e){this.x=t,this.y=e,this.gx=0,this.gy=0,this.vx=0,this.vy=0,this.fx=0,this.fy=0,this.rx=0,this.ry=0,this.density=0,this.pressure=0,this.color=.6}move(){this.rx=.9*this.rx+.1*this.fx*Math.sign(this.fy),this.ry=.9*this.ry+.1*this.fy*Math.sign(this.fy),this.vy+=f.GRAVITY_Y+1e-4*(Math.random()-.5),this.vx+=f.GRAVITY_X+1e-4*(Math.random()-.5),this.vx+=this.fx,this.vy+=this.fy,this.x+=this.vx,this.y+=this.vy}calcForce(){let t=f.RANGE;this.x<t&&(this.vx+=.125*(t-this.x)),this.y<t&&(this.vy+=.125*(t-this.y)),this.x>o-t&&(this.vx+=.125*(o-t-this.x)),this.y>h-t&&(this.fy+=.125*(h-t-this.y))}}class T{constructor(){this.distance=0,this.nx=0,this.ny=0,this.weight=0}setParticle(t,e){this.p1=t,this.p2=e,this.nx=t.x-e.x+.005*(Math.random()-.5),this.ny=t.y-e.y+.005*(Math.random()-.5),this.distance=Math.sqrt(this.nx*this.nx+this.ny*this.ny),this.weight=1-Math.max(this.distance,1)/f.RANGE;var i=this.weight*this.weight*this.weight;t.density+=i,e.density+=i,i=1/Math.max(this.distance,1),this.nx*=i,this.ny*=i}calcForce(){if(!this.p1||!this.p2)return;let{p1:t,p2:e}=this;var i=this.weight*(t.pressure+e.pressure)/(t.density+e.density)*f.PRESSURE,s=this.weight/(t.density+e.density)*f.VISCOSITY;t.fx+=this.nx*i,t.fy+=this.ny*i,e.fx-=this.nx*i,e.fy-=this.ny*i;var n=e.vx-t.vx,a=e.vy-t.vy;t.fx+=n*s,t.fy+=a*s,e.fx-=n*s,e.fy-=a*s}}class Y{constructor(){this.particles=[],this.numParticles=0}clear(){this.numParticles=0,this.particles=[]}add(t){this.particles[this.numParticles++]=t}}for(var b=0;b<m;b++){G[b]=new Array(w);for(var L=0;L<w;L++)G[b][L]=new Y}n.addEventListener("mouseup",(()=>{s.down=!1}),!1),window.setInterval((function(){var t=S+0;S=0,s.down&&function(){if(A%1==0){var t=new P(s.x+(Math.random()-.5)*f.RANGE,s.y+(Math.random()-.5)*f.RANGE);p[R++]=t}}(),Math.sin((new Date).getTime()/2e3),function(t){A++;for(var e=0;e<R;e++)for(var i=p[e],s=0;s<t;s++)i.move()}(t),a.font="30px Arial"}),1e3/60),window.setInterval((function(){let t=new Date;S+=Math.min((+t-+I)/60,2),I=t}),1e3/60),window.setTimeout((function t(){!function(){var t,e;for(u=1/(o/m),g=1/(h/w),t=0;t<m;t++)for(e=0;e<w;e++)G[t][e].clear();for(t=0;t<R;t++){var i=p[t];i.fx=i.fy=i.density=0,i.gx=Math.floor(i.x*u),i.gy=Math.floor(i.y*g),i.gx<0&&(i.gx=0),i.gy<0&&(i.gy=0),i.gx>m-1&&(i.gx=m-1),i.gy>w-1&&(i.gy=w-1),G[i.gx][i.gy].add(i)}}(),function(){M=0;let t=Math.ceil(f.RANGE/(o/m)),e=Math.ceil(f.RANGE/(h/w));for(var i=0;i<R;i++){var s=p[i];for(let i=-t;i<=t;i+=1)if(i+s.gx>=0&&i+s.gx<m)for(let t=-e;t<=e;t+=1)t+s.gy>=0&&t+s.gy<w&&N(s,G[s.gx+i][s.gy+t])}}(),function(){for(var t=0;t<R;t++){var e=p[t];e.density<.1&&(e.density=.1),e.pressure=e.density-.1}}(),function(){for(var t=0;t<M;t++){E[t].calcForce()}for(t=0;t<R;t++)p[t].calcForce()}(),window.setTimeout(t,1e3/60)}),1e3/60),requestAnimationFrame((function t(){a.resetTransform(),a.scale(1/d,1/d),a.fillStyle="#EBE8E7",a.fillRect(0,0,o,h),a.fillStyle="blue",a.strokeStyle="blue",a.fillStyle="#3ED9D8";for(var e=0;e<R;e++){var i=p[e];a.save(),a.translate(i.x,i.y),a.rotate(Math.atan2(i.rx,-i.ry));let t=f.RANGE/2,s=t;a.fillRect(0-(s+2),0-(t+2),2*(s+2),2*(t+2)),a.restore()}for(a.fillStyle="#EBE8E7",a.fillStyle="#bae8e7",e=0;e<R;e++){i=p[e];a.save(),a.translate(i.x,i.y),a.rotate(Math.atan2(i.rx,-i.ry));let t=f.RANGE/2,s=t;a.fillRect(0-s,0-t,2*s,2*t),a.restore()}a.globalCompositeOperation="darken";var s=a.createRadialGradient(0,0,0,0,0,f.RANGE/Math.sqrt(2));for(s.addColorStop(0,"hsla(180, 67%, 55%,100%)"),s.addColorStop(1,"hsla(180, 67%, 55%,0%)"),a.fillStyle=s,e=0;e<R;e++){i=p[e];let t=Math.min(1,Math.max(0,1.5-Math.sqrt(2*i.density)));a.save(),a.translate(i.x,i.y),a.rotate(Math.atan2(i.rx,-i.ry)),a.globalAlpha=1-t;let s=f.RANGE/2,n=s;a.fillRect(0-n,0-s,2*n,2*s),a.restore()}a.globalAlpha=1,a.filter="none",a.globalCompositeOperation="source-over",requestAnimationFrame(t)}));
