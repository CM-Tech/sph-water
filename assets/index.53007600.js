var t,i;import{G as e,c as s}from"./vendor.13378c34.js";!function(t=".",i="__import__"){try{self[i]=new Function("u","return import(u)")}catch(e){const s=new URL(t,location),n=t=>{URL.revokeObjectURL(t.src),t.remove()};self[i]=t=>new Promise(((e,a)=>{const r=new URL(t,s);if(self[i].moduleMap[r])return e(self[i].moduleMap[r]);const o=new Blob([`import * as m from '${r}';`,`${i}.moduleMap['${r}']=m;`],{type:"text/javascript"}),h=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){a(new Error(`Failed to import: ${t}`)),n(h)},onload(){e(self[i].moduleMap[r]),n(h)}});document.head.appendChild(h)})),self[i].moduleMap={}}}("assets/");let n={x:0,y:0,down:!1};const a=document.getElementById("canvas"),r=a.getContext("2d");a.addEventListener("mousedown",(()=>{n.down=!0}));const o=1024;var h=window.innerWidth,l=window.innerHeight,d=window.innerWidth*(null!=(t=window.devicePixelRatio)?t:1),c=window.innerHeight*(null!=(i=window.devicePixelRatio)?i:1);let y=Math.min(o/d,o/c);h=y*d,l=y*c,a.addEventListener("mousemove",(t=>{var i,e;n.x=t.clientX*y*(null!=(i=window.devicePixelRatio)?i:1),n.y=t.clientY*y*(null!=(e=window.devicePixelRatio)?e:1)}));const m=()=>{var t,i;d=window.innerWidth*(null!=(t=window.devicePixelRatio)?t:1),c=window.innerHeight*(null!=(i=window.devicePixelRatio)?i:1),y=Math.min(o/d,o/c),h=y*d,l=y*c,a.width=d,a.height=c};window.addEventListener("resize",m);const f=new class{constructor(){this.GRAVITY_Y=.125,this.GRAVITY_X=0,this.RANGE=25,this.PRESSURE=1,this.VISCOSITY=.05}},x=new e;x.add(f,"VISCOSITY").name("viscosity").max(.5).min(0).step(.025),x.add(f,"GRAVITY_X").name("gravity x").max(1).min(-1).step(.125),x.add(f,"GRAVITY_Y").name("gravity y").max(1).min(-1).step(.125),m();var v=f.RANGE*f.RANGE,w=Math.ceil(o/f.RANGE),u=Math.ceil(o/f.RANGE),g=1/(h/w),p=1/(l/u),R=[],E=0,M=[],A=0,G=0,_=[],S=0,P=new Date;function I(t,i){for(var e=0;e<i.numParticles;e++){var s=i.particles[e];if(t!=s)(t.x-s.x)*(t.x-s.x)+(t.y-s.y)*(t.y-s.y)<v&&(M.length==A&&(M[A]=new T),M[A++].setParticle(t,s))}}class N{constructor(t,i){this.min_d=f.RANGE,this.min_dc=1,this.x=t,this.y=i,this.gx=0,this.gy=0,this.vx=0,this.vy=0,this.fx=0,this.fy=0,this.rx=0,this.ry=0,this.density=0,this.pressure=0,this.color=Math.random()}move(){this.rx=.9*this.rx+.1*this.fx*Math.sign(this.fy),this.ry=.9*this.ry+.1*this.fy*Math.sign(this.fy),this.vy+=f.GRAVITY_Y+1e-4*(Math.random()-.5),this.vx+=f.GRAVITY_X+1e-4*(Math.random()-.5),this.vx+=this.fx,this.vy+=this.fy,this.x+=this.vx,this.y+=this.vy,this.color=0}calcForce(){let t=f.RANGE;this.x<t&&(this.fx+=.125*(t-this.x)-.5*this.vx),this.y<t&&(this.fy+=.125*(t-this.y)-.5*this.vy),this.x>h-t&&(this.fx+=.125*(h-t-this.x)-.5*this.vx),this.y>l-t&&(this.fy+=.125*(l-t-this.y)-.5*this.vy)}}class T{constructor(){this.distance=0,this.nx=0,this.ny=0,this.weight=0}setParticle(t,i){this.p1=t,this.p2=i,this.nx=t.x-i.x+.005*(Math.random()-.5),this.ny=t.y-i.y+.005*(Math.random()-.5),this.distance=Math.sqrt(this.nx*this.nx+this.ny*this.ny),this.weight=1-Math.max(this.distance,1)/f.RANGE;var e=this.weight*this.weight*this.weight;t.density+=e,i.density+=e,e=1/Math.max(this.distance,1),this.nx*=e,this.ny*=e}calcForce(){if(!this.p1||!this.p2)return;let{p1:t,p2:i}=this;var e=this.weight*(t.pressure+i.pressure)/(t.density+i.density)*f.PRESSURE,s=this.weight/(t.density+i.density)*f.VISCOSITY;t.fx+=this.nx*e,t.fy+=this.ny*e,i.fx-=this.nx*e,i.fy-=this.ny*e;var n=i.vx-t.vx,a=i.vy-t.vy;t.fx+=n*s,t.fy+=a*s,i.fx-=n*s,i.fy-=a*s,t.min_d+=this.distance,t.min_dc+=1,i.min_d+=this.distance,i.min_dc+=1}}class Y{constructor(){this.particles=[],this.numParticles=0}clear(){this.numParticles=0,this.particles=[]}add(t){this.particles[this.numParticles++]=t}}for(var b=0;b<w;b++){_[b]=new Array(u);for(var L=0;L<u;L++)_[b][L]=new Y}a.addEventListener("mouseup",(()=>{n.down=!1}),!1),window.setInterval((function(){var t=S+0;S=0,n.down&&function(){if(G%1==0){var t=new N(n.x+(Math.random()-.5)*f.RANGE,n.y+(Math.random()-.5)*f.RANGE);R[E++]=t}}(),Math.sin((new Date).getTime()/2e3),function(t){G++;for(var i=0;i<E;i++)for(var e=R[i],s=0;s<t;s++)e.move()}(t),r.font="30px Arial"}),1e3/60),window.setInterval((function(){let t=new Date;S+=Math.min((+t-+P)/60,2),P=t}),1e3/60),window.setTimeout((function t(){!function(){var t,i;for(g=1/(h/w),p=1/(l/u),t=0;t<w;t++)for(i=0;i<u;i++)_[t][i].clear();for(t=0;t<E;t++){var e=R[t];e.min_d=0,e.min_dc=0,e.fx=e.fy=e.density=0,e.gx=Math.floor(e.x*g),e.gy=Math.floor(e.y*p),e.gx<0&&(e.gx=0),e.gy<0&&(e.gy=0),e.gx>w-1&&(e.gx=w-1),e.gy>u-1&&(e.gy=u-1),_[e.gx][e.gy].add(e)}}(),function(){A=0;let t=Math.ceil(f.RANGE/(h/w)),i=Math.ceil(f.RANGE/(l/u));for(var e=0;e<E;e++){var s=R[e];for(let e=-t;e<=t;e+=1)if(e+s.gx>=0&&e+s.gx<w)for(let t=-i;t<=i;t+=1)t+s.gy>=0&&t+s.gy<u&&I(s,_[s.gx+e][s.gy+t])}}(),function(){for(var t=0;t<E;t++){var i=R[t];i.density<.1&&(i.density=.1),i.pressure=i.density-.1}}(),function(){for(var t=0;t<A;t++){M[t].calcForce()}for(t=0;t<E;t++)R[t].calcForce()}(),window.setTimeout(t,1e3/60)}),1e3/60),requestAnimationFrame((function t(){r.resetTransform(),r.scale(1/y,1/y),r.fillStyle="#EBE8E7",r.fillRect(0,0,h,l),r.fillStyle="blue",r.strokeStyle="blue",r.fillStyle="#3ED9D8";let i=s("#3ED9D8").hsl();for(var e=0;e<E;e++){var n=R[e];r.fillStyle=s.hsl(i[0]+360*n.color,i[1],i[2]),r.save(),r.translate(n.x,n.y),r.rotate(Math.atan2(n.rx,-n.ry));let t=Math.max(f.RANGE/2-(n.min_dc<1?f.RANGE/2:n.min_d/n.min_dc/2),0);r.beginPath(),r.arc(0,0,t+2,0,2*Math.PI,!1),r.fill(),r.restore()}r.fillStyle="#EBE8E7";let a=s("#bae8e7").hsl();for(e=0;e<E;e++){n=R[e];r.fillStyle=s.hsl(a[0]+360*n.color,a[1],a[2]),r.save(),r.translate(n.x,n.y),r.rotate(Math.atan2(n.rx,-n.ry));let t=Math.max(0,f.RANGE/2-(n.min_dc<1?f.RANGE/2:n.min_d/n.min_dc/2));r.beginPath(),r.arc(0,0,t,0,2*Math.PI,!1),r.fill(),r.restore()}r.globalCompositeOperation="darken";var o=r.createRadialGradient(0,0,0,0,0,f.RANGE/Math.sqrt(2));o.addColorStop(0,"hsla(180, 67%, 55%,100%)"),o.addColorStop(1,"hsla(180, 67%, 55%,0%)"),r.fillStyle=o,r.globalAlpha=1,r.filter="none",r.globalCompositeOperation="source-over",requestAnimationFrame(t)}));
