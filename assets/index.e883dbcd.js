var t,e;import{G as i}from"./vendor.34f1e898.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(i){const n=new URL(t,location),s=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((i,a)=>{const r=new URL(t,n);if(self[e].moduleMap[r])return i(self[e].moduleMap[r]);const o=new Blob([`import * as m from '${r}';`,`${e}.moduleMap['${r}']=m;`],{type:"text/javascript"}),h=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){a(new Error(`Failed to import: ${t}`)),s(h)},onload(){i(self[e].moduleMap[r]),s(h)}});document.head.appendChild(h)})),self[e].moduleMap={}}}("assets/");let n={x:0,y:0,down:!1};const s=document.getElementById("canvas"),a=s.getContext("2d");s.addEventListener("mousedown",(()=>{n.down=!0}));const r=1024;var o=window.innerWidth,h=window.innerHeight,l=window.innerWidth*(null!=(t=window.devicePixelRatio)?t:1),c=window.innerHeight*(null!=(e=window.devicePixelRatio)?e:1);let d=Math.min(r/l,r/c);o=d*l,h=d*c,s.addEventListener("mousemove",(t=>{var e,i;n.x=t.clientX*d*(null!=(e=window.devicePixelRatio)?e:1),n.y=t.clientY*d*(null!=(i=window.devicePixelRatio)?i:1)}));const y=()=>{var t,e;l=window.innerWidth*(null!=(t=window.devicePixelRatio)?t:1),c=window.innerHeight*(null!=(e=window.devicePixelRatio)?e:1),d=Math.min(r/l,r/c),o=d*l,h=d*c,s.width=l,s.height=c};window.addEventListener("resize",y);const f=new class{constructor(){this.GRAVITY_Y=.125,this.GRAVITY_X=0,this.RANGE=25,this.PRESSURE=1,this.VISCOSITY=.05}},v=new i;v.add(f,"VISCOSITY").name("viscosity").max(.5).min(0).step(.025),v.add(f,"GRAVITY_X").name("gravity x").max(1).min(-1).step(.125),v.add(f,"GRAVITY_Y").name("gravity y").max(1).min(-1).step(.125),y();var x=f.RANGE*f.RANGE,m=Math.ceil(r/f.RANGE),w=Math.ceil(r/f.RANGE),u=1/(o/m),p=1/(h/w),g=[],R=0,M=[],E=0,A=0,G=[],S=0,I=new Date;function P(t,e){for(var i=0;i<e.numParticles;i++){var n=e.particles[i];if(t!=n)(t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y)<x&&(M.length==E&&(M[E]=new Y),M[E++].setParticle(t,n))}}class T{constructor(t,e){this.x=t,this.y=e,this.gx=0,this.gy=0,this.vx=0,this.vy=0,this.fx=0,this.fy=0,this.density=0,this.pressure=0,this.color=.6}move(){this.vy+=f.GRAVITY_Y+1e-4*(Math.random()-.5),this.vx+=f.GRAVITY_X+1e-4*(Math.random()-.5),this.vx+=this.fx,this.vy+=this.fy,this.x+=this.vx,this.y+=this.vy}calcForce(){let t=f.RANGE;this.x<t&&(this.fx+=.5*(t-this.x)),this.y<t&&(this.fy+=.5*(t-this.y)),this.x>o-t&&(this.fx+=.5*(o-t-this.x)),this.y>h-t&&(this.fy+=.5*(h-t-this.y))}}class Y{constructor(){this.distance=0,this.nx=0,this.ny=0,this.weight=0}setParticle(t,e){this.p1=t,this.p2=e,this.nx=t.x-e.x+.005*(Math.random()-.5),this.ny=t.y-e.y+.005*(Math.random()-.5),this.distance=Math.sqrt(this.nx*this.nx+this.ny*this.ny),this.weight=1-Math.max(this.distance,1)/f.RANGE;var i=this.weight*this.weight*this.weight;t.density+=i,e.density+=i,i=1/Math.max(this.distance,1),this.nx*=i,this.ny*=i}calcForce(){if(!this.p1||!this.p2)return;let{p1:t,p2:e}=this;var i=this.weight*(t.pressure+e.pressure)/(t.density+e.density)*f.PRESSURE,n=this.weight/(t.density+e.density)*f.VISCOSITY;t.fx+=this.nx*i,t.fy+=this.ny*i,e.fx-=this.nx*i,e.fy-=this.ny*i;var s=e.vx-t.vx,a=e.vy-t.vy;t.fx+=s*n,t.fy+=a*n,e.fx-=s*n,e.fy-=a*n}}class N{constructor(){this.particles=[],this.numParticles=0}clear(){this.numParticles=0,this.particles=[]}add(t){this.particles[this.numParticles++]=t}}for(var L=0;L<m;L++){G[L]=new Array(w);for(var _=0;_<w;_++)G[L][_]=new N}s.addEventListener("mouseup",(()=>{n.down=!1}),!1),window.setInterval((function(){var t=S+0;S=0,n.down&&function(){if(A%1==0){var t=new T(n.x+(Math.random()-.5)*f.RANGE,n.y+(Math.random()-.5)*f.RANGE);g[R++]=t}}(),Math.sin((new Date).getTime()/2e3),function(t){A++;for(var e=0;e<R;e++)for(var i=g[e],n=0;n<t;n++)i.move()}(t),a.font="30px Arial"}),1e3/60),window.setInterval((function(){let t=new Date;S+=Math.min((+t-+I)/60,2),I=t}),1e3/60),window.setTimeout((function t(){!function(){var t,e;for(u=1/(o/m),p=1/(h/w),t=0;t<m;t++)for(e=0;e<w;e++)G[t][e].clear();for(t=0;t<R;t++){var i=g[t];i.fx=i.fy=i.density=0,i.gx=Math.floor(i.x*u),i.gy=Math.floor(i.y*p),i.gx<0&&(i.gx=0),i.gy<0&&(i.gy=0),i.gx>m-1&&(i.gx=m-1),i.gy>w-1&&(i.gy=w-1),G[i.gx][i.gy].add(i)}}(),function(){E=0;let t=Math.ceil(f.RANGE/(o/m)),e=Math.ceil(f.RANGE/(h/w));for(var i=0;i<R;i++){var n=g[i];for(let i=-t;i<=t;i+=1)if(i+n.gx>=0&&i+n.gx<m)for(let t=-e;t<=e;t+=1)t+n.gy>=0&&t+n.gy<w&&P(n,G[n.gx+i][n.gy+t])}}(),function(){for(var t=0;t<R;t++){var e=g[t];e.density<.1&&(e.density=.1),e.pressure=e.density-.1}}(),function(){for(var t=0;t<E;t++){M[t].calcForce()}for(t=0;t<R;t++)g[t].calcForce()}(),window.setTimeout(t,1e3/60)}),1e3/60),requestAnimationFrame((function t(){a.resetTransform(),a.scale(1/d,1/d),a.fillStyle="#EBE8E7",a.fillRect(0,0,o,h),a.fillStyle="blue",a.strokeStyle="blue",a.fillStyle="#3ED9D8";for(var e=0;e<R;e++){var i=g[e];a.save(),a.translate(i.x,i.y),a.rotate(Math.atan2(i.vx,-i.vy)),a.fillRect(-16,-16,32,32),a.restore()}for(a.fillStyle="#EBE8E7",a.fillStyle="#bae8e7",e=0;e<R;e++){i=g[e];a.save(),a.translate(i.x,i.y),a.rotate(Math.atan2(i.vx,-i.vy)),a.fillRect(-14,-14,28,28),a.restore()}for(a.globalCompositeOperation="darken",e=0;e<R;e++){i=g[e];let t=Math.min(1,Math.max(0,1.5-Math.sqrt(2*i.density)));var n=a.createRadialGradient(0,0,0,0,0,14*Math.sqrt(2));n.addColorStop(0,`hsla(180, ${67+-17*t}%, ${55+27*t}%,100%)`),n.addColorStop(1,`hsla(180, ${67+-17*t}%, ${55+27*t}%,0%)`),a.fillStyle=n,a.save(),a.translate(i.x,i.y),a.rotate(Math.atan2(i.vx,-i.vy)),a.fillRect(-14,-14,28,28),a.restore()}a.filter="none",a.globalCompositeOperation="source-over",requestAnimationFrame(t)}));
